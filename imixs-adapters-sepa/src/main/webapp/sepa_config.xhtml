<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:i="http://java.sun.com/jsf/composite/imixs"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:marty="http://java.sun.com/jsf/composite/marty"
	template="/layout/template.xhtml">

	<ui:define name="content">
		<f:view>



			<script type="text/javascript">
				/*<![CDATA[*/

				function updateStatustPanel(data) {
					//initUserInput($('#userselector_id'));
					if (data.status === 'success') {
						// select with wildcard operator
						$('[id$=status_panel]').imixsLayout();
					}
				}

				/*]]>*/
			</script>


			<h:form id="import_form_id">
				<!-- ########## Error ########## -->
				<ui:include src="/pages/error_message.xhtml" />




				<div class="imixs-form">
					<div class="imixs-header">
						<h1>SEPA</h1>
					</div>



					<div class="imixs-body">
						<!-- **** General info ***** -->

						<div class="imixs-form-panel">
							<h1>Configuration</h1>
							<div class="imixs-form-section-2">
								<dl>
									<dt>
										Company: <span class="imixs-required">* </span>
									</dt>
									<dd>
										<h:inputText required="true"
											value="#{sepaController.configuration.item['dbtr.name']}">
										</h:inputText>
									</dd>
								</dl>

								<dl>
								</dl>

								<dl>
									<dt>
										IBAN <span class="imixs-required">* <h:message
												for="iban" /></span>
									</dt>
									<dd>
										<h:inputText value="#{sepaController.dbtrIban}"
											id="iban" required="false"
											validatorMessage="#{app.IBAN_INVALID}" />
									</dd>

								</dl>


								<dl>
									<dt>
										BIC <span class="imixs-required">* <h:message for="bic" /></span>
									</dt>
									<dd>
										<h:inputText value="#{sepaController.dbtrBic}" id="bic"
											required="false" validatorMessage="#{app.BIC_INVALID}" />
									</dd>

								</dl>

							</div>







							<div class="imixs-form-section-2">
								<dl>
									<dt>SEPA Model Version</dt>
									<dd>
										<h:inputText required="false"
											value="#{sepaController.configuration.item['_model_version']}">
										</h:inputText>
									</dd>
								</dl>


								<dl>
									<dt>SEPA Initial Task</dt>
									<dd>
										<h:inputText required="false"
											value="#{sepaController.configuration.item['_initial_task']}">
										</h:inputText>
									</dd>
								</dl>

							</div>


							<div class="imixs-form-section">
								<p>
									<span class="typcn typcn-lightbulb"></span> The initial task
									must define a report containing the query and style sheet
									information. Invoices will be automatically grouped by the
									attribute "_sepa_iban". If this attribute is not set, the
									default sepa_iban will be assigned to the invoice before
									processed. The SEPA workflow may optional include a
									"invoice_update" item definition.
								</p>
							</div>



						</div>




						<!-- include timer control -->

						<ui:include src="sub_scheduler_control.xhtml">
							<ui:param name="schedulerController" value="#{sepaController}" />
						</ui:include>




					</div>




					<div class="imixs-footer">
						<h:outputLabel value="#{message.modified}: " />
						<h:outputText
							value="#{sepaController.configuration.item['$modified']}">
							<f:convertDateTime timeZone="#{message.timeZone}" type="both"
								pattern="#{message.dateTimePattern}" />
						</h:outputText>


						<br />

						<h:commandButton
							actionListener="#{sepaController.saveConfiguration()}"
							value="#{message.save}">
						</h:commandButton>

						<h:commandButton value="#{message.close}" action="notes" />

					</div>

				</div>
			</h:form>
		</f:view>
	</ui:define>



</ui:composition>
